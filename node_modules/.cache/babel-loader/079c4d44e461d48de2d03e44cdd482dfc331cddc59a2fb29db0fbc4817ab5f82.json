{"ast":null,"code":"var _s = $RefreshSig$();\n// src/data/listings.js — kanonik havuz (tek kaynak: seed + localStorage)\n\nexport const SEED_LISTINGS = [{\n  id: \"ilan-1001\",\n  title: \"Merkezde 2+1 Geniş Daire\",\n  price: 2750000,\n  image: \"https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?q=80&w=1200&auto=format&fit=crop\",\n  location: \"Kadıköy, İstanbul\",\n  postedAt: \"2025-08-28\",\n  category: \"Emlak\",\n  isFeatured: true,\n  description: \"Merkezî konumda, ulaşım ve alışveriş noktalarına yakın, bakımlı 2+1 daire.\"\n}, {\n  id: \"ilan-1002\",\n  title: \"Tertemiz iPhone 14 Pro 256GB\",\n  price: 38990,\n  image: \"https://images.unsplash.com/photo-1603899122328-2eaa9c9c5c65?q=80&w=1200&auto=format&fit=crop\",\n  location: \"Konak, İzmir\",\n  postedAt: \"2025-08-30\",\n  category: \"İkinci El\",\n  isFeatured: true,\n  description: \"Kutusu ve faturası mevcut. Pil sağlığı %92.\"\n}, {\n  id: \"ilan-1003\",\n  title: \"Sıfır Ayarında Elektrikli Scooter\",\n  price: 9500,\n  image: \"https://images.unsplash.com/photo-1542281286-9e0a16bb7366?q=80&w=1200&auto=format&fit=crop\",\n  location: \"Nilüfer, Bursa\",\n  postedAt: \"2025-08-20\",\n  category: \"İkinci El\",\n  isFeatured: false,\n  description: \"30km menzil, hızlı şarj, katlanabilir.\"\n}, {\n  id: \"ilan-1004\",\n  title: \"Freelance Web Geliştirme Hizmeti\",\n  price: 15000,\n  image: \"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?q=80&w=1200&auto=format&fit=crop\",\n  location: \"Online\",\n  postedAt: \"2025-09-01\",\n  category: \"Hizmet\",\n  isFeatured: true,\n  description: \"React, Next.js, Tailwind projeleri.\"\n}, {\n  id: \"ilan-1005\",\n  title: \"Aracılık Yok: 2016 Model Dizel Hatchback\",\n  price: 455000,\n  image: \"https://images.unsplash.com/photo-1549924231-f129b911e442?q=80&w=1200&auto=format&fit=crop\",\n  location: \"Yenimahalle, Ankara\",\n  postedAt: \"2025-08-15\",\n  category: \"Vasıta\",\n  isFeatured: false,\n  description: \"Yetkili servis bakımlı, düşük tramer.\"\n}, {\n  id: \"ilan-1006\",\n  title: \"Sıfır Kutu Gaming PC (Ryzen)\",\n  price: 32990,\n  image: \"https://images.unsplash.com/photo-1518770660439-4636190af475?q=80&w=1200&auto=format&fit=crop\",\n  location: \"Pendik, İstanbul\",\n  postedAt: \"2025-08-18\",\n  category: \"Teknoloji\",\n  isFeatured: false,\n  description: \"Ryzen 5 / 16GB / 1TB SSD.\"\n}];\n\n// Tarayıcıdaki gerçek anahtarınla uyumlu:\nconst LS_KEY_PRIMARY = \"user_listings\";\nconst LS_KEY_FALLBACK = \"vitrinim_listings_local\";\nfunction safeParse(json) {\n  try {\n    const v = JSON.parse(json);\n    return Array.isArray(v) ? v : [];\n  } catch {\n    return [];\n  }\n}\nexport function readLocalListings() {\n  const r1 = localStorage.getItem(LS_KEY_PRIMARY);\n  if (r1) return safeParse(r1);\n  const r2 = localStorage.getItem(LS_KEY_FALLBACK);\n  if (r2) return safeParse(r2);\n  return [];\n}\nexport function writeLocalListings(arr) {\n  try {\n    localStorage.setItem(LS_KEY_PRIMARY, JSON.stringify(arr || []));\n  } catch {}\n}\nexport function normalizeListing(l, idx = 0) {\n  const now = new Date();\n  return {\n    id: l.id || `local-${now.getTime()}-${idx}`,\n    title: l.title || `Başlıksız #${idx}`,\n    price: Number.isFinite(l.price) ? l.price : 0,\n    image: l.image || \"https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=1200&auto=format&fit=crop\",\n    location: l.location || \"Türkiye\",\n    postedAt: (l.postedAt || now.toISOString()).slice(0, 10),\n    category: l.category || \"Diğer\",\n    isFeatured: Boolean(l.isFeatured),\n    description: l.description || \"\"\n  };\n}\n\n// React hook: statik + yerel birleşik havuz\nimport { useEffect, useMemo, useState } from \"react\";\nexport function useListingPool() {\n  _s();\n  const [localListings, setLocalListings] = useState(() => readLocalListings().map(normalizeListing));\n  useEffect(() => {\n    const onStorage = e => {\n      if (e.key === LS_KEY_PRIMARY || e.key === LS_KEY_FALLBACK) {\n        setLocalListings(readLocalListings().map(normalizeListing));\n      }\n    };\n    window.addEventListener(\"storage\", onStorage);\n    return () => window.removeEventListener(\"storage\", onStorage);\n  }, []);\n  const pool = useMemo(() => {\n    const map = new Map();\n    for (const s of SEED_LISTINGS) map.set(s.id, s);\n    localListings.forEach((l, i) => map.set(l.id || `local-${i}`, normalizeListing(l, i)));\n    return Array.from(map.values());\n  }, [localListings]);\n  return {\n    pool,\n    localCount: localListings.length\n  };\n}\n_s(useListingPool, \"oPJpPmKVBrrXEfBexdjYi7Bszdw=\");\nexport function getListingById(pool, id) {\n  return pool.find(l => l.id === id);\n}","map":{"version":3,"names":["SEED_LISTINGS","id","title","price","image","location","postedAt","category","isFeatured","description","LS_KEY_PRIMARY","LS_KEY_FALLBACK","safeParse","json","v","JSON","parse","Array","isArray","readLocalListings","r1","localStorage","getItem","r2","writeLocalListings","arr","setItem","stringify","normalizeListing","l","idx","now","Date","getTime","Number","isFinite","toISOString","slice","Boolean","useEffect","useMemo","useState","useListingPool","_s","localListings","setLocalListings","map","onStorage","e","key","window","addEventListener","removeEventListener","pool","Map","s","set","forEach","i","from","values","localCount","length","getListingById","find"],"sources":["C:/Users/serpb/Documents/vitrinim/src/data/listings.js"],"sourcesContent":["// src/data/listings.js — kanonik havuz (tek kaynak: seed + localStorage)\n\nexport const SEED_LISTINGS = [\n  { id: \"ilan-1001\", title: \"Merkezde 2+1 Geniş Daire\", price: 2750000,\n    image: \"https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?q=80&w=1200&auto=format&fit=crop\",\n    location: \"Kadıköy, İstanbul\", postedAt: \"2025-08-28\", category: \"Emlak\",\n    isFeatured: true, description: \"Merkezî konumda, ulaşım ve alışveriş noktalarına yakın, bakımlı 2+1 daire.\" },\n  { id: \"ilan-1002\", title: \"Tertemiz iPhone 14 Pro 256GB\", price: 38990,\n    image: \"https://images.unsplash.com/photo-1603899122328-2eaa9c9c5c65?q=80&w=1200&auto=format&fit=crop\",\n    location: \"Konak, İzmir\", postedAt: \"2025-08-30\", category: \"İkinci El\",\n    isFeatured: true, description: \"Kutusu ve faturası mevcut. Pil sağlığı %92.\" },\n  { id: \"ilan-1003\", title: \"Sıfır Ayarında Elektrikli Scooter\", price: 9500,\n    image: \"https://images.unsplash.com/photo-1542281286-9e0a16bb7366?q=80&w=1200&auto=format&fit=crop\",\n    location: \"Nilüfer, Bursa\", postedAt: \"2025-08-20\", category: \"İkinci El\",\n    isFeatured: false, description: \"30km menzil, hızlı şarj, katlanabilir.\" },\n  { id: \"ilan-1004\", title: \"Freelance Web Geliştirme Hizmeti\", price: 15000,\n    image: \"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?q=80&w=1200&auto=format&fit=crop\",\n    location: \"Online\", postedAt: \"2025-09-01\", category: \"Hizmet\",\n    isFeatured: true, description: \"React, Next.js, Tailwind projeleri.\" },\n  { id: \"ilan-1005\", title: \"Aracılık Yok: 2016 Model Dizel Hatchback\", price: 455000,\n    image: \"https://images.unsplash.com/photo-1549924231-f129b911e442?q=80&w=1200&auto=format&fit=crop\",\n    location: \"Yenimahalle, Ankara\", postedAt: \"2025-08-15\", category: \"Vasıta\",\n    isFeatured: false, description: \"Yetkili servis bakımlı, düşük tramer.\" },\n  { id: \"ilan-1006\", title: \"Sıfır Kutu Gaming PC (Ryzen)\", price: 32990,\n    image: \"https://images.unsplash.com/photo-1518770660439-4636190af475?q=80&w=1200&auto=format&fit=crop\",\n    location: \"Pendik, İstanbul\", postedAt: \"2025-08-18\", category: \"Teknoloji\",\n    isFeatured: false, description: \"Ryzen 5 / 16GB / 1TB SSD.\" },\n];\n\n// Tarayıcıdaki gerçek anahtarınla uyumlu:\nconst LS_KEY_PRIMARY = \"user_listings\";\nconst LS_KEY_FALLBACK = \"vitrinim_listings_local\";\n\nfunction safeParse(json) {\n  try { const v = JSON.parse(json); return Array.isArray(v) ? v : []; } catch { return []; }\n}\n\nexport function readLocalListings() {\n  const r1 = localStorage.getItem(LS_KEY_PRIMARY);  if (r1) return safeParse(r1);\n  const r2 = localStorage.getItem(LS_KEY_FALLBACK); if (r2) return safeParse(r2);\n  return [];\n}\n\nexport function writeLocalListings(arr) {\n  try { localStorage.setItem(LS_KEY_PRIMARY, JSON.stringify(arr || [])); } catch {}\n}\n\nexport function normalizeListing(l, idx = 0) {\n  const now = new Date();\n  return {\n    id: l.id || `local-${now.getTime()}-${idx}`,\n    title: l.title || `Başlıksız #${idx}`,\n    price: Number.isFinite(l.price) ? l.price : 0,\n    image: l.image || \"https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=1200&auto=format&fit=crop\",\n    location: l.location || \"Türkiye\",\n    postedAt: (l.postedAt || now.toISOString()).slice(0, 10),\n    category: l.category || \"Diğer\",\n    isFeatured: Boolean(l.isFeatured),\n    description: l.description || \"\",\n  };\n}\n\n// React hook: statik + yerel birleşik havuz\nimport { useEffect, useMemo, useState } from \"react\";\nexport function useListingPool() {\n  const [localListings, setLocalListings] = useState(() => readLocalListings().map(normalizeListing));\n\n  useEffect(() => {\n    const onStorage = (e) => {\n      if (e.key === LS_KEY_PRIMARY || e.key === LS_KEY_FALLBACK) {\n        setLocalListings(readLocalListings().map(normalizeListing));\n      }\n    };\n    window.addEventListener(\"storage\", onStorage);\n    return () => window.removeEventListener(\"storage\", onStorage);\n  }, []);\n\n  const pool = useMemo(() => {\n    const map = new Map();\n    for (const s of SEED_LISTINGS) map.set(s.id, s);\n    localListings.forEach((l, i) => map.set(l.id || `local-${i}`, normalizeListing(l, i)));\n    return Array.from(map.values());\n  }, [localListings]);\n\n  return { pool, localCount: localListings.length };\n}\n\nexport function getListingById(pool, id) {\n  return pool.find((l) => l.id === id);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}